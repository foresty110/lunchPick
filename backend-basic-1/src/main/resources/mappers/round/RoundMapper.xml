<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="kr.sparta.backend1.lunch.mapper.RoundMapper">

    <select id="findTodayRounds" resultType="kr.sparta.backend1.lunch.dto.RoundTodayDto">
        SELECT
            r.id       AS round_id,
            r.team_id  AS team_id,
            t.name     AS team_name,
            r.date     AS date,
            r.status   AS status
        FROM lunch_round r
        JOIN team t ON t.id = r.team_id
        WHERE DATE(r.date) = CURDATE()
        ORDER BY t.name ASC, r.id DESC
    </select>

</mapper>
